# 第二章 编写MBR主导记录，让我们开始掌权

## 第一个程序——BIOS

BIOS全称叫Base Input & Output System，即基本输入输出系统

CPU中的cs: ip寄存器指向这个程序的起始地址

ROM中存放的是BIOS的代码

BIOS的入口地址——0xFFF0

## BIOS的主要工作

1.检测，初始化硬件——硬件自己提供初始化调用，BIOS直接调用

2.建立中断向量表

3.校验启动盘中位于0盘0道1扇区 

​	校验这里是不是存放这MBR——校验这个扇区最后两个字节是不是0x55和0xaa

4.在三的基础上，如果是，则将这个扇区（512字节）的内容加载至0x7c000内存处执行

## BIOS启动

在开机的一瞬间，cs: ip寄存器被强制初始化为0xF000： 0xFFF0在实模式下由于CPU访问的内存是段地址+偏移地址的方式来实现的，所以0xF000:0xFFF0，访问的地址是0xF000*16+0xFFF0=0xFFFF0——BIOS的入口地址 .

## MBR

MBR大小必须为512字节且最后两个字节必须是0x55和0xaa